<div class="container">
	<div class="row">
        <div class="col-lg-12">
            <h1>{{user.name}}</h1>
            <div class="row">
                <div class="col-lg-3">
                    <a href="{{user.avatar}}" ng-bind-html="avatar(user.avatar)"></a>
                    <div class="panel panel-default voffset3">
                        <div class="panel-heading">
                            <i class="fa fa-user"></i> About
                        </div>
                        <div class="panel-body panel-full panel-padded panel-flexible-height">
                            <div class="row">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Name</strong>
                                </div>
                                <div class="col-lg-8 col-md-8">
                                    {{user.name}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Username</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.identity.username}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Email</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.identity.email}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Type</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.type}}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default voffset3" ng-if="user.company">
                        <div class="panel-heading">
                            <i class="fa fa-building-o"></i> Company
                        </div>
                        <div class="panel-body panel-full panel-padded panel-flexible-height">
                            <div class="row">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Name</strong>
                                </div>
                                <div class="col-lg-8 col-md-8">
                                    {{user.company.name}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Username</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.identity.username}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Email</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.identity.email}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Addr 1</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.company.address.address_1}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Addr 2</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.company.address.address_2}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>City</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.company.address.city}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>County</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.company.address.county}}
                                </div>
                            </div>
                            <div class="row voffset1">
                                <div class="col-lg-4 col-md-4">
                                    <strong>Country</strong>
                                </div>
                                <div class="col-lg-8 col-md-8" style="word-break: break-all;">
                                    {{user.company.address.country}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="panel panel-default" style="height: 600px;">
                                <div class="panel-heading">
                                    <i class="fa fa-map-marker"></i> Find Restaurants
                                </div>
                                <div class="panel-body panel-full" style="height: 600px;">
                                    <google-map center="map.center" zoom="map.zoom" draggable="true">
                                        <marker ng-repeat="restaurant in restaurants" coords="restaurant.location" click="restaurant.openMarker = !restaurant.openMarker">
                                            <window show="restaurant.open">
                                                <div style="width:290px;">
                                                    <div class="row">
                                                        <div class="col-lg-12 text-center" ng-bind-html="avatar(restaurant.avatar, 'img')">

                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-4">
                                                            <p><strong>{{restaurant.name}}</strong></p>
                                                        </div>
                                                        <div class="col-lg-4 text-center">
                                                            <p><em>{{restaurant.category}}</em></p>
                                                        </div>
                                                        <div class="col-lg-4 text-right">
                                                            <p><rating stars="restaurant.rating"></rating> </p>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <p>{{restaurant.description}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </window>
                                        </marker>
                                    </google-map>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row voffset6">
                        <div class="col-lg-12">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <i class="fa fa-cutlery"></i> Previous Orders
                                </div>
                                <div class="panel-body panel-full">
                                    <ul class="list-unstyled">
                                        <li ng-if="pending.previousOrders" class="text-center loading">
                                            <i class="fa fa-refresh fa-spin fa-4x"></i><br>
                                            <small>Loading Orders</small>
                                        </li>
                                        <li ng-repeat="order in previousOrders">
                                            <div class="row">
                                                <div class="col-lg-2 text-center">
                                                    <div ng-bind-html="avatar(order.restaurant.avatar,'img')"></div>
                                                    <small>@{{order.restaurant.name}}</small>
                                                </div>
                                                <div class="col-lg-5">
                                                    <p ng-if="order.table_number">At table number {{order.table_number}}</p>
                                                    <h3>Order Items</h3>
                                                    <hr>
                                                    <div ng-repeat="order_item in order.order_items">
                                                        <div class="row">
                                                            <div class="col-lg-8">
                                                                <h4 style="margin: 0;padding: 0;">{{order_item.menu_item.name}}</h4>
                                                            </div>
                                                            <div class="col-lg-4 text-right">
                                                                {{order_item.menu_item.price}} {{order_item.menu_item.currency}}
                                                            </div>
                                                        </div>
                                                        <hr>
                                                    </div>
                                                    <hr>
                                                    <div class="row">
                                                        <div class="col-lg-8">
                                                            <strong>Total</strong>
                                                        </div>
                                                        <div class="col-lg-4 text-right">
                                                            {{order.totalCost()}} EUR
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-5 text-right">
                                                    <strong>{{order.served_time | date:'short'}}</strong>
                                                    <div class="row voffset4">
                                                        <div class="col-lg-8">
                                                            <p style="margin: 0;">Served by {{order.staff_member.name}}</p>
                                                        </div>
                                                        <div class="col-lg-4" ng-bind-html="avatar(order.staff_member.avatar,'img')"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li ng-if="previousOrders.length == 0 && !pending.previousOrders" class="text-muted disabled"><i class="fa fa-exclamation-triangle"></i> No Previous Orders</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
	</div>
</div>